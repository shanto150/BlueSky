import{a as b,e as f,f as L,F as V,h as B,i as E,c as u,o as c,b as t,p as _,q as y,d as v,s as N,w as l,l as T,t as U,n as P,v as m,G as S}from"./app-BJ2aISWA.js";import{_ as G}from"./Plane_origin-DMaQ2OAv.js";import"https://code.jquery.com/jquery-3.7.1.min.js";import"https://cdnjs.cloudflare.com/ajax/libs/izitoast/1.4.0/js/iziToast.min.js";import"https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js";const D={class:"page-breadcrumb d-none d-sm-flex align-items-center mb-3"},F={class:"ps-3"},I={"aria-label":"breadcrumb"},M={class:"breadcrumb mb-0 p-0"},R={class:"breadcrumb-item"},j={class:"breadcrumb-item"},q={class:"card"},z={key:0,class:"mt-2 center-body position-absolute top-50 start-50"},H={id:"addZoneform"},W={class:"card-body"},Z={class:"row"},$={class:"col-md-4"},J={class:"col-md-4"},K={class:"col-md-4"},O={class:"col-md-4 mt-2"},Q={class:"col-md-4 mt-2"},X={class:"col-md-4 mt-2"},Y={class:"mb-3 pt-0 mx-auto"},ee=["src"],te={key:1,src:G,height:"60",width:"60",class:"border border-1 rounded rounded-2",alt:"Profile Picture"},se={class:"card-footer"},re={__name:"edit",props:["id"],setup(g){const n=b(),p=g,r=f(!0),d=f(""),s=L({name:"",airlines_id:"",airline_picture:"",code:"",country:"",airlines_business_type:"",useEmail:n.email});async function h(i){s.airlines_id=i.id;try{const e=b(),a=e.decryptWithAES(e.token),o=await axios.post("/api/airlines/update",s,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+a,Accept:"application/json"}});Notification.showToast("s",o.data.message)}catch(e){ErrorCatch.CatchError(e)}}const x=i=>{s.airline_picture=i.target.files[0];const e=new FileReader;e.readAsDataURL(s.airline_picture),e.onload=a=>{d.value=a.target.result}};w(p);async function w(i){try{n.GlobalLoading=!0,r.value=!1;const e=await V.post("editAirlines",{id:i}),a=e.data[0].name,o=e.data[0].code,C=e.data[0].country_name,A=e.data[0].airline_business_type,k=e.data[0].logo_path;s.name=a,s.code=o,s.country_name=C,s.airlines_business_type=A,d.value=k,n.GlobalLoading=!1,r.value=!0}catch{n.GlobalLoading=!1,r.value=!0}}return B(()=>{}),(i,e)=>{const a=E("router-link");return c(),u(S,null,[t("div",D,[e[8]||(e[8]=t("div",{class:"breadcrumb-title pe-3"},"Setting",-1)),t("div",F,[t("nav",I,[t("ol",M,[t("li",R,[_(a,{to:{name:"Home"}},{default:y(()=>e[5]||(e[5]=[v("Dashboard")])),_:1})]),t("li",j,[_(a,{to:{name:"airlinesList"}},{default:y(()=>e[6]||(e[6]=[v("Airlines List")])),_:1})]),e[7]||(e[7]=t("li",{class:"breadcrumb-item active","aria-current":"page"},"Airlines Edit",-1))])])])]),t("div",q,[e[17]||(e[17]=t("div",{class:"card-header"},[t("h5",{class:"m-0 p-0",style:{"border-left":"5px solid #7239ea"}}," Â  Airlines Edit")],-1)),T(n).GlobalLoading?(c(),u("div",z,e[9]||(e[9]=[t("div",{class:"loader-circle-57"},[t("img",{class:"position-absolute",src:U,height:"22",width:"22",alt:""})],-1)]))):N("",!0),l(t("form",H,[t("div",W,[t("div",Z,[t("div",$,[e[10]||(e[10]=t("label",{for:"input1",class:"form-label"},"Airlines Name",-1)),l(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=o=>s.name=o),class:"form-control",id:"name",name:"name",placeholder:"Airlines Name"},null,512),[[m,s.name]])]),t("div",J,[e[11]||(e[11]=t("label",{for:"input1",class:"form-label"},"Code",-1)),l(t("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=o=>s.code=o),class:"form-control",id:"code",name:"code",placeholder:"Code"},null,512),[[m,s.code]])]),t("div",K,[e[12]||(e[12]=t("label",{for:"input1",class:"form-label"},"Country",-1)),l(t("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=o=>s.country=o),class:"form-control",id:"country",name:"country",placeholder:"Country"},null,512),[[m,s.country]])]),t("div",O,[e[13]||(e[13]=t("label",{for:"input1",class:"form-label"},"Business Type",-1)),l(t("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=o=>s.airlines_business_type=o),class:"form-control",id:"airlines_business_type",name:"airlines_business_type",placeholder:"Business Type"},null,512),[[m,s.airlines_business_type]])]),t("div",Q,[e[14]||(e[14]=t("label",{for:"input1",class:"form-label"},"Logo Upload",-1)),t("input",{type:"file",id:"profile-picture",ref:"profilePicture",class:"w-1/2",onChange:x,accept:"image/*"},null,544)]),t("div",X,[e[15]||(e[15]=t("label",{for:"input1",class:"form-label"},"Preview Logo",-1)),t("div",Y,[d.value?(c(),u("img",{key:0,src:d.value,height:"60",width:"60",class:"border border-1 rounded rounded-2",alt:"Profile Picture"},null,8,ee)):(c(),u("img",te))])])])]),t("div",se,[t("button",{type:"button",onClick:e[4]||(e[4]=o=>h(p)),class:"m-2 btn btn-sm btn-info px-4 ms-2 float-end text-white"},"Update"),e[16]||(e[16]=t("button",{class:"m-2 btn btn-sm btn-danger px-4 ms-2 float-end"},"Back",-1))])],512),[[P,r.value]])])],64)}}};export{re as default};
