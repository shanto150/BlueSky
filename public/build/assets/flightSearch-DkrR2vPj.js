import{D as H,e as d,f as G,h as Q,E as J,F as E,i as K,c as i,o as l,b as e,p,q as x,d as N,j as X,w as A,s as c,v as L,G as w,H as F,x as u,l as h,_ as Z}from"./app-U9JxbAYP.js";import{V as I}from"./main-6PTrxlg5.js";import{s as j}from"./simplebar.min-DWigh5G1.js";import"https://code.jquery.com/jquery-3.7.1.min.js";import"https://cdnjs.cloudflare.com/ajax/libs/izitoast/1.4.0/js/iziToast.min.js";import"https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js";const tt={class:"page-breadcrumb d-none d-sm-flex align-items-center mb-3"},et={class:"ps-3"},at={"aria-label":"breadcrumb"},ot={class:"breadcrumb mb-0 p-0"},st={class:"breadcrumb-item"},nt={class:"row"},it={class:"col-md-12"},lt={class:"card border border-1 border-primary"},rt={class:"card-body"},dt={class:"d-flex align-items-center gap-3"},ct={class:"bg-checkbox-active one-way rounded rounded-1 p-2"},ut={class:"bg-checkbox round-way rounded rounded-1 p-2"},bt={class:"bg-checkbox rounded multi-city rounded-1 p-2"},vt={class:"row mt-4 searchparameters"},mt={class:"col-md-3 position-relative"},pt={key:1,id:"origin_results",class:"position-absolute w-100 mt-2 bg-white border rounded shadow-sm",style:{"z-index":"1000",animation:"fadeIn 0.5s ease-in-out"}},ft=["onClick"],yt={class:"hstack align-items-center gap-1"},ht={style:{width:"50px"},class:"d-flex align-items-center justify-content-center"},gt={class:"fw-bolder"},xt={class:"flex-grow-1 border-start p-2"},wt={class:"font-12"},kt={class:"small text-muted"},_t={key:0,class:"p-2 text-center text-muted"},Ct={class:"col-md-3 position-relative"},$t={key:1,id:"destination_results",class:"position-absolute w-100 mt-2 bg-white border border-info bg-info rounded shadow-sm",style:{"z-index":"1000",animation:"fadeIn 0.5s ease-in-out"}},Dt=["onClick"],qt={class:"hstack align-items-center gap-1"},St={style:{width:"50px"},class:"d-flex align-items-center justify-content-center"},Vt={class:"fw-bolder"},Bt={class:"flex-grow-1 border-start p-2"},Et={class:"font-12"},Nt={class:"small text-muted"},At={key:0,class:"p-2 text-center text-muted"},Lt={class:"col-md-2"},Ft={class:"col-md-2 hide-me"},It={class:"col-md-1"},k=20,jt=H({__name:"flightSearch",setup(Ot){const b=d([]),v=d(!1),m=d(!1),f=d([]),y=d([]),_=d(),C=o=>{const t=o.getDate(),n=o.getMonth()+1,r=`${o.getFullYear()}-${String(n).padStart(2,"0")}-${String(t).padStart(2,"0")}`;return s.dep_date=r,r},D=d(),s=G({Way:"",from:"",to:"",dep_date:"",ADT:"",CNN:"",INF:""});s.Way=1;function O(){return s.from?s.to?!0:(Notification.showToast("E","Please select a valid destination."),!1):(Notification.showToast("E","Please select a valid origin."),!1)}async function R(){if(O())try{const o=await E.post("Lowfaresearch",s);Notification.showToast("s",o.data.message),console.log(o)}catch(o){console.log(o)}}function g(o){o==1?($(".one-way").addClass("bg-checkbox-active"),$(".round-way").removeClass("bg-checkbox-active"),$(".multi-city").removeClass("bg-checkbox-active"),$(".one-way").removeClass("bg-checkbox"),$(".round-way").addClass("bg-checkbox"),$(".multi-city").addClass("bg-checkbox")):o==2?($(".one-way").removeClass("bg-checkbox-active"),$(".round-way").addClass("bg-checkbox-active"),$(".multi-city").removeClass("bg-checkbox-active"),$(".round-way").removeClass("bg-checkbox"),$(".one-way").addClass("bg-checkbox"),$(".multi-city").addClass("bg-checkbox")):($(".one-way").removeClass("bg-checkbox-active"),$(".round-way").removeClass("bg-checkbox-active"),$(".multi-city").addClass("bg-checkbox-active"),$(".multi-city").removeClass("bg-checkbox"),$(".one-way").addClass("bg-checkbox"),$(".round-way").addClass("bg-checkbox"))}Q(()=>{z(),document.addEventListener("click",q)}),J(()=>{document.removeEventListener("click",q)});async function z(){try{const o=await E.get("airports");b.value=o.data.map(t=>({id:t.code,text:t.Airport_Name,city:t.City_name}))}catch(o){console.error("Error fetching airports:",o)}}function q(o){const t=document.getElementById("origin_id"),n=document.getElementById("origin_results"),a=document.getElementById("destination_id"),r=document.getElementById("destination_results");!(t!=null&&t.contains(o.target))&&!(n!=null&&n.contains(o.target))&&(v.value=!1),!(a!=null&&a.contains(o.target))&&!(r!=null&&r.contains(o.target))&&(m.value=!1)}function S(o,t){if(!o)return t.slice(0,k);const n=o.toLowerCase();return t.filter(a=>a.id.toLowerCase().includes(n)||a.text.toLowerCase().includes(n)||a.city.toLowerCase().includes(n))}function T(o){f.value=S(o,b.value)}function U(o){y.value=S(o,b.value)}function V(){v.value=!0,f.value=b.value.slice(0,k)}function B(){m.value=!0,y.value=b.value.slice(0,k)}function P(o){s.from=o.id,v.value=!1}function M(o){s.to=o.id,m.value=!1}function Y(){s.from="",v.value=!1}function W(){s.to="",m.value=!1}return(o,t)=>{const n=K("router-link");return l(),i(w,null,[e("div",tt,[t[12]||(t[12]=e("div",{class:"breadcrumb-title pe-3"},"Settings",-1)),e("div",et,[e("nav",at,[e("ol",ot,[e("li",st,[p(n,{to:{name:"Home"}},{default:x(()=>t[10]||(t[10]=[N("Dashboard")])),_:1})]),t[11]||(t[11]=e("li",{class:"breadcrumb-item active","aria-current":"page"},"Flight Search",-1))])])])]),e("div",nt,[e("div",it,[e("div",lt,[e("div",rt,[e("div",dt,[e("div",ct,[e("input",{onClick:t[0]||(t[0]=a=>g(1)),class:"form-check-input",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault1"}),t[13]||(t[13]=e("label",{class:"form-check-label-box",for:"flexRadioDefault1"},"  One Way ",-1))]),e("div",ut,[e("input",{onClick:t[1]||(t[1]=a=>g(2)),class:"form-check-input",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault2"}),t[14]||(t[14]=e("label",{class:"form-check-label-box",for:"flexRadioDefault2"},"  Round Trip ",-1))]),e("div",bt,[e("input",{onClick:t[2]||(t[2]=a=>g(3)),class:"form-check-input",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault3"}),t[15]||(t[15]=e("label",{class:"form-check-label-box",for:"flexRadioDefault3"},"   Multi City ",-1))]),t[16]||(t[16]=X('<div class="ms-auto" data-v-364b5580><div class="row" data-v-364b5580><div class="col-md-4 pr-0" data-v-364b5580><div class="input-group mb-3" data-v-364b5580><button class="btn btn-outline-primary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" data-v-364b5580> 2 Passangers </button><ul class="dropdown-menu p-1" style="width:300px;" data-v-364b5580><table class="table table-sm" data-v-364b5580><tbody data-v-364b5580><tr data-v-364b5580><td data-v-364b5580><small data-v-364b5580> Adult <br data-v-364b5580><span style="font-size:9px;" data-v-364b5580>Above 12 Years</span></small></td><td style="width:150px;" data-v-364b5580><div class="input-group product-qty" data-v-364b5580><button type="button" class="quantity-left-minus btn btn-light rounded-0 rounded-start btn-number" data-type="minus" data-v-364b5580><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-minus-circle text-primary" data-v-364b5580><circle cx="12" cy="12" r="10" data-v-364b5580></circle><line x1="8" y1="12" x2="16" y2="12" data-v-364b5580></line></svg></button><input type="text" name="quantity" class="form-control input-number quantity" value="1" data-v-364b5580><button type="button" class="quantity-right-plus btn btn-light rounded-0 rounded-end btn-number" data-type="plus" data-v-364b5580><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-plus-circle text-primary" data-v-364b5580><circle cx="12" cy="12" r="10" data-v-364b5580></circle><line x1="12" y1="8" x2="12" y2="16" data-v-364b5580></line><line x1="8" y1="12" x2="16" y2="12" data-v-364b5580></line></svg></button></div></td></tr><tr data-v-364b5580><td data-v-364b5580><small data-v-364b5580>Children <br data-v-364b5580><span style="font-size:9px;" data-v-364b5580>02 to Under 12 Years </span></small></td><td style="width:150px;" data-v-364b5580><div class="input-group product-qty" data-v-364b5580><button type="button" class="quantity-left-minus btn btn-light rounded-0 rounded-start btn-number" data-type="minus" data-v-364b5580><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-minus-circle text-primary" data-v-364b5580><circle cx="12" cy="12" r="10" data-v-364b5580></circle><line x1="8" y1="12" x2="16" y2="12" data-v-364b5580></line></svg></button><input type="text" name="quantity" class="form-control input-number quantity" value="1" data-v-364b5580><button type="button" class="quantity-right-plus btn btn-light rounded-0 rounded-end btn-number" data-type="plus" data-v-364b5580><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-plus-circle text-primary" data-v-364b5580><circle cx="12" cy="12" r="10" data-v-364b5580></circle><line x1="12" y1="8" x2="12" y2="16" data-v-364b5580></line><line x1="8" y1="12" x2="16" y2="12" data-v-364b5580></line></svg></button></div></td></tr><tr data-v-364b5580><td data-v-364b5580><small data-v-364b5580>Infant <br data-v-364b5580><span style="font-size:9px;" data-v-364b5580>Under 02 Years</span></small></td><td style="width:150px;" data-v-364b5580><div class="input-group product-qty" data-v-364b5580><button type="button" class="quantity-left-minus btn btn-light rounded-0 rounded-start btn-number" data-type="minus" data-v-364b5580><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-minus-circle text-primary" data-v-364b5580><circle cx="12" cy="12" r="10" data-v-364b5580></circle><line x1="8" y1="12" x2="16" y2="12" data-v-364b5580></line></svg></button><input type="text" name="quantity" class="form-control input-number quantity" value="1" data-v-364b5580><button type="button" class="quantity-right-plus btn btn-light rounded-0 rounded-end btn-number" data-type="plus" data-v-364b5580><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-plus-circle text-primary" data-v-364b5580><circle cx="12" cy="12" r="10" data-v-364b5580></circle><line x1="12" y1="8" x2="12" y2="16" data-v-364b5580></line><line x1="8" y1="12" x2="16" y2="12" data-v-364b5580></line></svg></button></div></td></tr></tbody></table></ul></div></div><div class="col-md-4 pr-0" data-v-364b5580><select name="" id="class_type" class="form-control select2C" data-v-364b5580><option value="" selected data-v-364b5580>Economy</option><option value="" data-v-364b5580>Premium Economy</option><option value="" data-v-364b5580>Business Class</option><option value="" data-v-364b5580>First Class</option></select></div><div class="col-md-4 pr-0" data-v-364b5580><select name="" id="pre_airline" class="form-control select2C" data-v-364b5580><option value="" selected data-v-364b5580>Prefered Airlines</option><option value="" data-v-364b5580>Qatar</option><option value="" data-v-364b5580>Saudia</option><option value="" data-v-364b5580>Emirates</option></select></div></div></div>',1))]),e("div",vt,[e("div",mt,[A(e("input",{id:"origin_id","onUpdate:modelValue":t[3]||(t[3]=a=>s.from=a),name:"origin_name",class:"form-control form-control-lg origin_name placeholder-font-size",onInput:t[4]||(t[4]=a=>T(a.target.value)),onFocus:V,onClick:V,placeholder:"City,Airport"},null,544),[[L,s.from]]),s.from?(l(),i("span",{key:0,onClick:Y,class:"clear-icon"},"✖")):c("",!0),v.value?(l(),i("div",pt,[t[17]||(t[17]=e("div",{class:"arrow"},null,-1)),p(h(j),{style:{"max-height":"300px"},class:"search-results-simplebar"},{default:x(()=>[(l(!0),i(w,null,F(f.value,a=>(l(),i("div",{key:a.id,class:"p-2 cursor-pointer hover:bg-gray-100",onClick:r=>P(a)},[e("div",yt,[e("div",ht,[e("h6",gt,u(a.id),1)]),e("div",xt,[e("div",wt,u(a.text),1),e("div",kt,u(a.city),1)])])],8,ft))),128)),f.value.length===0?(l(),i("div",_t," No matching airports found ")):c("",!0)]),_:1})])):c("",!0)]),e("div",Ct,[A(e("input",{id:"destination_id","onUpdate:modelValue":t[5]||(t[5]=a=>s.to=a),name:"destination_name",class:"form-control form-control-lg destination_name placeholder-font-size",onInput:t[6]||(t[6]=a=>U(a.target.value)),onClick:B,onFocus:B,placeholder:"City,Airport"},null,544),[[L,s.to]]),s.to?(l(),i("span",{key:0,onClick:W,class:"clear-icon"},"✖")):c("",!0),m.value?(l(),i("div",$t,[t[18]||(t[18]=e("div",{class:"arrow"},null,-1)),p(h(j),{style:{"max-height":"300px"},class:"search-results-simplebar"},{default:x(()=>[(l(!0),i(w,null,F(y.value,a=>(l(),i("div",{key:a.id,class:"p-2 cursor-pointer hover:bg-gray-100",onClick:r=>M(a)},[e("div",qt,[e("div",St,[e("h6",Vt,u(a.id),1)]),e("div",Bt,[e("div",Et,u(a.text),1),e("div",Nt,u(a.city),1)])])],8,Dt))),128)),y.value.length===0?(l(),i("div",At," No matching airports found ")):c("",!0)]),_:1})])):c("",!0)]),e("div",Lt,[p(h(I),{modelValue:_.value,"onUpdate:modelValue":t[7]||(t[7]=a=>_.value=a),placeholder:"Select Date","enable-time-picker":!1,format:C,"auto-apply":""},null,8,["modelValue"])]),e("div",Ft,[p(h(I),{modelValue:D.value,"onUpdate:modelValue":t[8]||(t[8]=a=>D.value=a),placeholder:"Select Date","enable-time-picker":!1,"preview-format":C},null,8,["modelValue"])]),e("div",It,[e("button",{onClick:t[9]||(t[9]=a=>R()),class:"btn btn-sm btn-block btn-outline-primary text-center"},t[19]||(t[19]=[e("i",{class:"fa fa-search px-3"},null,-1),N(" Search ")]))])])])])])])],64)}}}),Yt=Z(jt,[["__scopeId","data-v-364b5580"]]);export{Yt as default};
