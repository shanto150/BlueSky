import{u as x,a as w,e as b,E as c,i as k,o as f,c as y,b as s,p as r,q as u,d as p,j as C,l as g,s as S,t as B,F as N}from"./app-BPjXPvPe.js";import{V as h,D as A}from"./dataTables.bootstrap5-CWTSXybd.js";import"https://code.jquery.com/jquery-3.7.1.min.js";import"https://cdnjs.cloudflare.com/ajax/libs/izitoast/1.4.0/js/iziToast.min.js";import"https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js";const O={class:"page-breadcrumb d-none d-sm-flex align-items-center mb-3"},L={class:"ps-3"},T={"aria-label":"breadcrumb"},z={class:"breadcrumb mb-0 p-0"},D={class:"breadcrumb-item"},V={class:"breadcrumb-item"},j={class:"ms-auto"},q={class:"btn-group"},M={class:"row position-relative"},F={class:"col-12"},G={id:"issuedBankList",class:"card rounded rounded-2 shadow-none p-3"},I={key:0,class:"center-body position-absolute top-50 start-50"},U={__name:"index",setup(E){const v=x(),o=w();h.use(A);const m=b([]);b(),d();const _={responsive:!0,pageLength:30,lengthMenu:[3,10,20,30],bDestroy:!0,ordering:!1,dom:"<'row'<'col-sm-4'B><'d-md-flex justify-content-between align-items-center dt-layout-end col-md-auto ms-auto'f>><'row'<'col-sm-12'tr>><'row justify-content-between Reduct_table_gap'<'d-md-flex justify-content-between align-items-center dt-layout-start col-md-auto me-auto'i><'d-md-flex justify-content-between align-items-center dt-layout-end col-md-auto ms-auto'p>>",buttons:["copy","csv","pdf","excel","print"],language:{search:"",searchPlaceholder:"Search by anything"},columnDefs:[{defaultContent:"0",targets:"_all"}],columns:[{data:"DT_RowIndex",title:"SL"},{title:"logo",render:function(n,a,e){var t="";return t+='<img src="'+e.logo+'" width="50" height="50" alt="logo">',t}},{title:"Name",render:function(n,a,e){var t="";return t+=e.a_name,t}},{title:"Code",render:function(n,a,e){var t="";return t+=e.code,t}},{title:"Airlines Business Type",render:function(n,a,e){var t="";return t+=e.busi_type,t}},{title:"Country Name",render:function(n,a,e){var t="";return t+=e.country,t}},{title:"Created By",render:function(n,a,e){var t="";return t+=e.created_by,t+="<br>",t+='<span class="text-primary">',t+=e.created_at+"</span>",t}},{title:"Updated By",render:function(n,a,e){var t="";return t+=e.updated_by||"-",t+="<br>",e.updated_by&&(t+='<span class="text-primary">',t+=e.updated_at+"</span>"),t}},{title:"Action",render:function(n,a,e){var t="",i=e.idd;return e.status,t+='<button  style="size: 30px; width: 30px; height: 30px" class="btn btn-outline-only-edit rounded-circle edit-item" data-item-id='+i+' placement="top"> <i class="fa-solid fa-pencil" style="margin: 0px 0px 10px -5px; font-size: 14px;"></i> </button>',t+='<button style="size: 30px; width: 30px; height: 30px; margin-left: 5px;" class="btn btn-outline-danger rounded-circle delete-item" data-item-id='+i+'> <i class="fa-solid fa-trash" style="margin: 2px 0px 10px  -4px; font-size: 14px;" ></i> </button>',t}}],drawCallback:function(n){$(".edit-item").on("click",function(a){var e=$(this).attr("data-item-id");v.push({name:"aircraftEdit",params:{id:e}})}),$(".delete-item").on("click",function(a){var e=$(this).attr("data-item-id");iziToast.question({timeout:1e5,pauseOnHover:!1,close:!1,overlay:!0,displayMode:"once",id:"question",zindex:999,message:"Want to delete this Airlines?",position:"center",buttons:[["<button><b>No</b></button>",function(t,i){t.hide({transitionOut:"fadeOut"},i,"no")},!0],["<button><b>Yes</b></button>",function(t,i){t.hide({transitionOut:"fadeOut"},i,"yes")},!0]],onClosed:async function(t,i,l){l=="yes"&&(c.post("deleteAirlines",{id:e}),d(),Notification.showToast("s","Successfully Airlines Deleted."))}})}),$(".status-change").on("click",function(a){var e=$(this).attr("data-item-id");iziToast.question({timeout:1e5,pauseOnHover:!1,close:!1,overlay:!0,displayMode:"once",id:"question",zindex:999,message:"Want to change status this issued Bank/MFS?",position:"center",buttons:[["<button><b>No</b></button>",function(t,i){t.hide({transitionOut:"fadeOut"},i,"no")},!0],["<button><b>Yes</b></button>",function(t,i){t.hide({transitionOut:"fadeOut"},i,"yes")},!0]],onClosed:async function(t,i,l){l=="yes"&&(c.post("changeIssuedBankStatus",{id:e}),d(),Notification.showToast("s","Successfully issued Bank/MFS status Changed."))}})})}};async function d(){try{o.GlobalLoading=!0;const n=await c.get("getAirlines");m.value=n.data.data,o.GlobalLoading=!1}catch(n){console.log(n),o.GlobalLoading=!1}}return(n,a)=>{const e=k("router-link");return f(),y(N,null,[s("div",O,[a[4]||(a[4]=s("div",{class:"breadcrumb-title pe-3"},"Settings",-1)),s("div",L,[s("nav",T,[s("ol",z,[s("li",D,[r(e,{to:{name:"Home"}},{default:u(()=>a[0]||(a[0]=[p("Dashboard")])),_:1})]),s("li",V,[r(e,{to:{name:"airlinesList"}},{default:u(()=>a[1]||(a[1]=[p("Settings")])),_:1})]),a[2]||(a[2]=s("li",{class:"breadcrumb-item active","aria-current":"page"},"Airlines",-1))])])]),s("div",j,[s("div",q,[r(e,{to:{name:"airlinesCreate"},class:"btn btn-primary btn-sm"},{default:u(()=>a[3]||(a[3]=[s("i",{class:"fa fa-circle-plus"},null,-1),p(" Airlines ")])),_:1})])])]),a[6]||(a[6]=C('<div class="row"><div class="col-12 col-sm-6 col-md-3"><div class="info-agency"><span class="info-agency-icon bg-info elevation-1"><i class="fa-solid fa-location-dot"></i></span><div class="info-agency-content"><span class="info-agency-text">Total Aircraft</span><span class="info-agency-number"> 1200 </span></div></div></div></div>',1)),s("div",M,[s("div",F,[s("div",G,[g(o).GlobalLoading?(f(),y("div",I,a[5]||(a[5]=[s("div",{class:"loader-circle-57"},[s("img",{class:"position-absolute",src:S,height:"22",width:"22",alt:""})],-1)]))):B("",!0),r(g(h),{options:_,data:m.value,class:"table table-sm table-striped table-bordered"},null,8,["data"])])])])],64)}}};export{U as default};
