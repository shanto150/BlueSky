import{a as f,f as h,h as g,E as d,i as w,o as x,c as y,b as t,p as l,q as c,d as m,w as C,v as N,j as k,F as S}from"./app-Cptg3FPH.js";import"https://cdnjs.cloudflare.com/ajax/libs/izitoast/1.4.0/js/iziToast.min.js";import"https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js";const E={class:"page-breadcrumb d-none d-sm-flex align-items-center mb-3"},A={class:"ps-3"},B={"aria-label":"breadcrumb"},D={class:"breadcrumb mb-0 p-0"},V={class:"breadcrumb-item"},j={class:"breadcrumb-item"},T={class:"card"},z={id:"addZoneform"},F={class:"card-body"},I={class:"row"},L={class:"col-md-6"},M={class:"card-footer"},G={__name:"create",setup(Z){const p=f(),o=h({area_name:"",division_id:"",district_id:"",status_val:"",useEmail:p.email});g(()=>{$(".division_name").on("change",function(){o.division_id=$(this).val(),$(".district_name").empty(),b($(this).val()),$("#district_id").prepend('<option selected=""></option>')}),$(".district_name").on("change",function(){o.district_id=$(this).val()})});async function u(){try{const s=await d.post("/zone/save",o);document.getElementById("addZoneform").reset(),$("#division_id option:first").prop("selected",!0).trigger("change"),$("#district_id option:first").prop("selected",!0).trigger("change"),$("#status option:first").prop("selected",!0).trigger("change"),Notification.showToast("s",s.data.message)}catch(s){ErrorCatch.CatchError(s)}}v();async function v(){try{const e=await d.get("divisions");var s=[];$.each(e.data,function(a,n){var r={id:n.id,text:n.name};s.push(r)}),console.log(s),$("#division_id").select2({placeholder:"=Select=",theme:"bootstrap-5",width:"100%",allowClear:!0,height:"50",data:s}),$("#division_id").prepend('<option selected=""></option>')}catch{}}async function b(s){try{const i=await d.post("districts",{id:s});var e=[];$.each(i.data,function(n,r){var _={id:r.id,text:r.name};e.push(_)}),$("#district_id").select2({placeholder:"=Select=",theme:"bootstrap-5",width:"100%",allowClear:!0,height:"50",data:e})}catch{}}return(s,e)=>{const i=w("router-link");return x(),y(S,null,[t("div",E,[e[5]||(e[5]=t("div",{class:"breadcrumb-title pe-3"},"Setting",-1)),t("div",A,[t("nav",B,[t("ol",D,[t("li",V,[l(i,{to:{name:"Home"}},{default:c(()=>e[2]||(e[2]=[m("Dashboard")])),_:1})]),t("li",j,[l(i,{to:{name:"zoneList"}},{default:c(()=>e[3]||(e[3]=[m("Area List")])),_:1})]),e[4]||(e[4]=t("li",{class:"breadcrumb-item active","aria-current":"page"},"Create New Area",-1))])])])]),t("div",T,[e[9]||(e[9]=t("div",{class:"card-header"},[t("h5",{class:"m-0 p-0",style:{"border-left":"5px solid #7239ea"}}," Â  Create New Area")],-1)),t("form",z,[t("div",F,[t("div",I,[t("div",L,[e[6]||(e[6]=t("label",{for:"input1",class:"form-label"},"Area Name",-1)),C(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>o.area_name=a),class:"form-control form-control-sm",id:"area_name",name:"area_name",placeholder:"Enter Name"},null,512),[[N,o.area_name]])]),e[7]||(e[7]=k('<div class="col-md-6"><label for="input1" class="form-label">Division</label><select id="division_id" name="division_name" class="form-control form-control-sm single-select-fields division_name"></select></div><div class="col-md-6 mt-2"><label for="input1" class="form-label">District</label><select id="district_id" name="district_name" class="form-control form-control-sm single-select-field district_name"><option value="">=Select=</option></select></div>',2))])]),t("div",M,[t("button",{type:"button",onClick:e[1]||(e[1]=a=>u()),class:"m-2 btn btn-sm btn-info px-4 ms-2 float-end text-white"},"Save"),e[8]||(e[8]=t("button",{class:"m-2 btn btn-sm btn-danger px-4 ms-2 float-end"},"Back",-1))])])])],64)}}};export{G as default};
