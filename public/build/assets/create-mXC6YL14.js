import{a as h,f,h as w,K as g,E as n,i as x,o as y,c as C,b as e,p as d,q as c,d as m,w as S,v as N,j as k,F as E}from"./app-DKLDL6eO.js";import"https://cdnjs.cloudflare.com/ajax/libs/izitoast/1.4.0/js/iziToast.min.js";import"https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js";const V={class:"page-breadcrumb d-none d-sm-flex align-items-center mb-3"},A={class:"ps-3"},B={"aria-label":"breadcrumb"},D={class:"breadcrumb mb-0 p-0"},j={class:"breadcrumb-item"},T={class:"breadcrumb-item"},z={class:"card"},F={id:"addZoneform"},I={class:"card-body"},L={class:"row"},M={class:"col-md-6"},Z={class:"card-footer"},J={__name:"create",setup(q){const p=h(),i=f({area_name:"",division_id:"",district_id:"",status_val:"",useEmail:p.email}),r=[];w(()=>{g(),b(),$(".division_name").on("change",function(){i.division_id=$(this).val(),$(".district_name").empty(),v($(this).val()),$("#district_id").prepend('<option selected=""></option>')}),$(".district_name").on("change",function(){i.district_id=$(this).val();let s=$(".district_name").val();console.log(s)}),$("#district_id").select2({placeholder:"=Select=",theme:"bootstrap-5",width:"100%",allowClear:!0,height:"50"}),$("#division_id").select2({placeholder:"=Select=",theme:"bootstrap-5",width:"100%",allowClear:!0,height:"50"})});async function u(){try{const s=await n.post("/zone/save",i);document.getElementById("addZoneform").reset(),Notification.showToast("s",s.data.message)}catch(s){ErrorCatch.CatchError(s)}}async function b(){try{const s=await n.get("divisions");$.each(s.data,function(t,o){var a={id:o.id,text:o.name};r.push(a)}),console.log(r),$("#division_id").select2({placeholder:"=Select=",theme:"bootstrap-5",width:"100%",allowClear:!0,height:"50"}),$("#division_id").prepend('<option selected=""></option>')}catch{}}async function v(s){try{const o=await n.post("districts",{id:s});var t=[];$.each(o.data,function(H,l){var _={id:l.id,text:l.name};t.push(_)}),$("#district_id").select2({placeholder:"=Select=",theme:"bootstrap-5",width:"100%",allowClear:!0,height:"50",data:t})}catch{}}return(s,t)=>{const o=x("router-link");return y(),C(E,null,[e("div",V,[t[5]||(t[5]=e("div",{class:"breadcrumb-title pe-3"},"Setting",-1)),e("div",A,[e("nav",B,[e("ol",D,[e("li",j,[d(o,{to:{name:"Home"}},{default:c(()=>t[2]||(t[2]=[m("Dashboard")])),_:1})]),e("li",T,[d(o,{to:{name:"zoneList"}},{default:c(()=>t[3]||(t[3]=[m("Area List")])),_:1})]),t[4]||(t[4]=e("li",{class:"breadcrumb-item active","aria-current":"page"},"Create New Area",-1))])])])]),e("div",z,[t[9]||(t[9]=e("div",{class:"card-header"},[e("h5",{class:"m-0 p-0",style:{"border-left":"5px solid #7239ea"}}," Â  Create New Area")],-1)),e("form",F,[e("div",I,[e("div",L,[e("div",M,[t[6]||(t[6]=e("label",{for:"input1",class:"form-label"},"Area Name",-1)),S(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=a=>i.area_name=a),class:"form-control form-control-sm",id:"area_name",name:"area_name",placeholder:"Enter Name"},null,512),[[N,i.area_name]])]),t[7]||(t[7]=k('<div class="col-md-6"><label for="input1" class="form-label">Division</label><select id="division_id" name="division_name" class="form-control form-control-sm division_name"><option value="">=Select=</option></select></div><div class="col-md-6 mt-2"><label for="input1" class="form-label">District</label><select id="district_id" name="district_name" class="form-control form-control-sm district_name"><option value="">=Select=</option></select></div>',2))])]),e("div",Z,[e("button",{type:"button",onClick:t[1]||(t[1]=a=>u()),class:"m-2 btn btn-sm btn-info px-4 ms-2 float-end text-white"},"Save"),t[8]||(t[8]=e("button",{class:"m-2 btn btn-sm btn-danger px-4 ms-2 float-end"},"Back",-1))])])])],64)}}};export{J as default};
