import{u as A,a as L,e as C,f as U,h as T,E as x,i as D,r as y,o,c as d,b as t,p as m,q as h,d as i,j as f,w as r,l as w,s as I,t as M,F as N}from"./app-tzkZDYTN.js";import{V as _,D as S}from"./dataTables.bootstrap5-RHWOQWVO.js";import{j as O}from"./responsive.bootstrap5-Dw5K3xmj.js";import"https://code.jquery.com/jquery-3.7.1.min.js";import"https://cdnjs.cloudflare.com/ajax/libs/izitoast/1.4.0/js/iziToast.min.js";import"https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js";import"./dataTables.buttons-AiEqkaRH.js";const B={class:"page-breadcrumb d-none d-sm-flex align-items-center mb-3"},j={class:"ps-3"},E={"aria-label":"breadcrumb"},V={class:"breadcrumb mb-0 p-0"},H={class:"breadcrumb-item"},P={class:"ms-auto"},R={class:"btn-group"},F={class:"table-responsive"},G={id:"example2_wrapper",class:"dataTables_wrapper dt-bootstrap5"},q={class:"card-body"},Y={class:"nav nav-tabs nav-primary mb-0",role:"tablist"},Z={class:"nav-item",role:"presentation"},W={class:"nav-link active","data-bs-toggle":"tab",href:"#primaryhome",role:"tab","aria-selected":"true"},J={class:"nav-item",role:"presentation"},K={class:"nav-link","data-bs-toggle":"tab",href:"#primaryprofile",role:"tab","aria-selected":"false",tabindex:"-1"},Q={class:"tab-content pt-3"},X={class:"tab-pane fade show active",id:"primaryhome",role:"tabpanel"},tt={class:"row position-relative"},st={class:"col-12"},et={id:"userList",class:"card rounded rounded-2 shadow-none p-3"},at={key:0,class:"center-body position-absolute top-50 start-50"},lt={class:"tab-pane fade",id:"primaryprofile",role:"tabpanel"},it={class:"row mt-2"},nt={class:"col-sm-12"},ot={class:"table table-sm table-striped table-bordered"},dt={role:"row"},rt={class:"text-left"},ct={type:"button",style:{size:"30px",width:"30px",height:"30px"},class:"btn btn-outline-only-edit rounded-circle"},pt={type:"button",style:{size:"30px",width:"30px",height:"30px","margin-left":"5px"},class:"btn btn-outline-danger rounded-circle"},ut={type:"button",style:{size:"30px",width:"30px",height:"30px","margin-left":"5px"},class:"btn btn-outline-purple rounded-circle"},bt={type:"button",style:{size:"30px",width:"30px",height:"30px","margin-left":"5px"},class:"btn btn-outline-lock rounded-circle"},xt={type:"button",style:{size:"30px",width:"30px",height:"30px","margin-left":"5px"},class:"btn btn-outline-timer rounded-circle"},mt={role:"row"},ft={class:"text-left"},gt={type:"button",style:{size:"30px",width:"30px",height:"30px"},class:"btn btn-outline-only-edit rounded-circle"},vt={type:"button",style:{size:"30px",width:"30px",height:"30px","margin-left":"5px"},class:"btn btn-outline-danger rounded-circle"},yt={type:"button",style:{size:"30px",width:"30px",height:"30px","margin-left":"5px"},class:"btn btn-outline-purple rounded-circle"},ht={type:"button",style:{size:"30px",width:"30px",height:"30px","margin-left":"5px"},class:"btn btn-outline-lock rounded-circle"},wt={type:"button",style:{size:"30px",width:"30px",height:"30px","margin-left":"5px"},class:"btn btn-outline-timer rounded-circle"},_t={class:"modal fade",id:"status_change_modal",tabindex:"-1","aria-modal":"true",role:"dialog"},St={class:"modal-dialog modal-dialog-centered"},zt={class:"modal-content"},kt={class:"modal-footer"},Mt={__name:"index",setup(At){const g=A(),c=L();_.use(S),S.Buttons.jszip(O);const v=C([]),u=U({status:"",useridStatus:""});T(()=>{$("#status").on("change",function(){u.status=$(this).val()})}),b();const z={responsive:!0,destroy:!0,pageLength:30,lengthMenu:[3,10,20,30],ordering:!1,columnDefs:[{defaultContent:"0",targets:"_all"}],dom:"<'row'<'col-sm-4'B><'d-md-flex justify-content-between align-items-center dt-layout-end col-md-auto ms-auto'f>><'row'<'col-sm-12'tr>><'row justify-content-between Reduct_table_gap'<'d-md-flex justify-content-between align-items-center dt-layout-start col-md-auto me-auto'i><'d-md-flex justify-content-between align-items-center dt-layout-end col-md-auto ms-auto'p>>",buttons:[{extend:"excel",text:'<i class="fa fa-file-excel"></i> Excel',title:"Your Title",messageTop:function(){return"Fun"},className:"btn btn-danger btn-sm text-white",exportOptions:{columns:[1,2,3,5]}},{extend:"csv",text:'<i class="fa fa-file-csv"></i> CSV',title:"Your Title",messageTop:function(){return"Fun"},className:"btn btn-info btn-sm text-white",exportOptions:{columns:[1,2,3,5]}}],language:{search:"",searchPlaceholder:"Search by anything.."},columns:[{data:"DT_RowIndex",title:"SL"},{title:"Staff Info",render:function(n,s,a){var e="";return e+='<div class="row">',e+='<div class="col-md-4">',e+='<img src="'+a.img+'" height="60"  class="w-100">',e+="</div>",e+='<div class="col-md-8">',e+=a.name,e+="<br>",e+=a.emp_id,e+="<br>",e+=a.desg,e+=" | ",e+=a.dept,e+="</div>",e+="</div>",e},width:"100%"},{title:"Role & Office Location",render:function(n,s,a){var e="";return e+=a.r_name,e+="<br>",e+=a.off_loc,e},width:"20%"},{title:"User Login Info",render:function(n,s,a){var e="";return e+=a.email,e+="<br>",e+=a.phone,e}},{title:"Created",render:function(n,s,a){var e="";return e+=a.created_by,e+="<br>",e+='<span class="text-primary">',e+=a.created_at+"</span>",e}},{title:"Updated",render:function(n,s,a){var e="";return e+=a.updated_by||"",e+="<br>",e+='<span class="text-primary">',e+=a.updated_at+"</span>",e}},{title:"Status",render:function(n,s,a){var e="";return a.status==1?e+='<div class="badge rounded-pill text-success bg-light-success p-2 text-uppercase px-3"><i class="bx bxs-circle me-1"></i>Active </div>':a.status==2?e+='<div class="badge rounded-pill text-warning bg-light-warning p-2 text-uppercase px-3"><i class="bx bxs-circle me-1"></i>On Hold </div>':a.status==3?e+='<div class="badge rounded-pill text-info bg-light-info p-2 text-uppercase px-3"><i class="bx bxs-circle me-1"></i>Locked </div>':e+='<div class="badge rounded-pill text-danger bg-light-danger p-2 text-uppercase px-3"><i class="bx bxs-circle me-1"></i>Deactivated </div>',e}},{title:"Action",render:function(n,s,a){var e="",l=a.idd,p=a.status;return e+='<button  style="size: 30px; width: 30px; height: 30px" class="btn btn-outline-only-edit rounded-circle edit-item" placement="top" id="edit_tool" data-item-id='+l+'> <i class="fa-solid fa-pencil" style="margin: 0px 0px 10px -5px; font-size: 14px;" ></i> </button>',e+='<button type="button" style="size: 30px; width: 30px; height: 30px; margin-left: 5px;" class="btn btn-outline-purple rounded-circle status-change" data-item-id='+l+" data-status="+p+'> <i class="fa fa-refresh" style="margin: 2px 0px 10px -5px; font-size: 14px;"></i> </button>',e+='<button type="button" v-tippy="Lock" style="size: 30px; width: 30px; height: 30px; margin-left: 5px;" class="btn btn-outline-timer rounded-circle history-data" data-item-id='+l+'> <i class="fa-solid fa-clock-rotate-left" style="margin: 2px 0px 10px -5px; font-size: 14px;"></i> </button>',e+='<button style="size: 30px; width: 30px; height: 30px; margin-left: 5px;" class="btn btn-outline-danger rounded-circle delete-item" data-item-id='+l+'> <i class="fa-solid fa-trash" style="margin: 2px 0px 10px  -4px; font-size: 14px;"></i> </button>',e},width:"90%"}],drawCallback:function(n){$(".edit-item").on("click",function(s){var a=$(this).attr("data-item-id");g.push({name:"EditUser",params:{id:a}})}),$(".delete-item").on("click",function(s){var a=$(this).attr("data-item-id");iziToast.question({timeout:1e5,pauseOnHover:!1,close:!1,overlay:!0,displayMode:"once",id:"question",zindex:999,message:"Want to delete this user?",position:"center",buttons:[["<button><b>No</b></button>",function(e,l){e.hide({transitionOut:"fadeOut"},l,"no")},!0],["<button><b>Yes</b></button>",function(e,l){e.hide({transitionOut:"fadeOut"},l,"yes")},!0]],onClosed:async function(e,l,p){p=="yes"&&(x.post("deleteUser",{id:a}),b(),Notification.showToast("s","Successfully User Deleted."))}})}),$(".status-change").on("click",function(s){var a=$(this).attr("data-item-id"),e=$(this).attr("data-status");$("#status_change_modal").modal("show"),$("#status").val(e),$("#status").trigger("change"),u.useridStatus=a,$("#useridStatus").val(a)}),$(".history-data").on("click",function(s){var a=$(this).attr("data-item-id");console.log(a),g.push({name:"UserLog",params:{id:a}})})}};async function b(){try{c.GlobalLoading=!0;const n=await x.get("getInternalUsers");v.value=n.data.data,c.GlobalLoading=!1}catch(n){c.GlobalLoading=!1,console.log(n)}}async function k(){try{const n=await x.post("/user-status/update",u);b(),$("#status_change_modal").modal("hide"),Notification.showToast("s",n.data.message)}catch(n){ErrorCatch.CatchError(n)}}return(n,s)=>{const a=D("router-link"),e=y("wave"),l=y("tippy");return o(),d(N,null,[t("div",B,[s[4]||(s[4]=t("div",{class:"breadcrumb-title pe-3"}," User Management",-1)),t("div",j,[t("nav",E,[t("ol",V,[t("li",H,[m(a,{to:{name:"Home"}},{default:h(()=>s[1]||(s[1]=[i("Dashboard")])),_:1})]),s[2]||(s[2]=t("li",{class:"breadcrumb-item active","aria-current":"page"},"User List",-1))])])]),t("div",P,[t("div",R,[m(a,{to:{name:"CreateUser"},class:"btn btn-primary btn-sm"},{default:h(()=>s[3]||(s[3]=[t("i",{class:"fa fa-circle-plus"},null,-1),i(" User ")])),_:1})])])]),s[40]||(s[40]=f('<div class="row"><div class="col-12 col-sm-6 col-md-3"><div class="info-agency"><span class="info-agency-icon bg-info elevation-1"><i class="fas fa-users"></i></span><div class="info-agency-content"><span class="info-agency-text">Total User</span><span class="info-agency-number"> 1200 </span></div></div></div><div class="col-12 col-sm-6 col-md-3"><div class="active-agency mb-3"><span class="active-agency-icon bg-success elevation-1 text-white"><i class="fa-solid fa-circle-check"></i></span><div class="active-agency-content"><span class="active-agency-text">Active User</span><span class="active-agency-number">760</span></div></div></div><div class="col-12 col-sm-6 col-md-3"><div class="info-box mb-3"><span class="info-box-icon bg-danger elevation-1"><i class="fa fa-pause"></i></span><div class="info-box-content"><span class="info-box-text">On Hold</span><span class="info-box-number">5</span></div></div></div><div class="col-12 col-sm-6 col-md-3"><div class="pending-agnt mb-3"><span class="pending-agnt-icon bg-warning elevation-1"><i class="fa fa-clock"></i></span><div class="pending-agnt-content"><span class="pending-agnt-text">Locked</span><span class="pending-agnt-number">20</span></div></div></div></div><div class="row"><div class="col-12"><div class="card"><div class="row shadow-none rounded rounded-2 p-3"><div class="col-md-2"><select class="form-select form-select-sm" id="single-select-field" data-placeholder="Choose one thing"><option>Select User Type</option></select></div><div class="col-md-2"><select class="form-select form-select-sm" id="single-select-field" data-placeholder="Choose one thing"><option>Select Office Location</option></select></div><div class="col-md-2"><select class="form-select form-select-sm" id="single-select-field" data-placeholder="Choose one thing"><option>Select Status</option></select></div><div class="col-md-1 mt-2"><i class="fa fa-times text-danger"></i> Clear </div></div></div></div></div>',2)),t("div",F,[t("div",G,[t("div",q,[t("ul",Y,[t("li",Z,[r((o(),d("a",W,s[5]||(s[5]=[t("div",{class:"d-flex align-items-center"},[t("div",{class:"tab-title"}," Internal User ")],-1)]))),[[e]])]),t("li",J,[r((o(),d("a",K,s[6]||(s[6]=[t("div",{class:"d-flex align-items-center"},[t("div",{class:"tab-title"},"External User")],-1)]))),[[e]])])]),t("div",Q,[t("div",X,[t("div",tt,[t("div",st,[t("div",et,[w(c).GlobalLoading?(o(),d("div",at,s[7]||(s[7]=[t("div",{class:"loader-circle-57"},[t("img",{class:"position-absolute",src:I,height:"22",width:"22",alt:""})],-1)]))):M("",!0),m(w(_),{options:z,data:v.value,class:"table table-sm table-striped table-bordered"},null,8,["data"])])])])]),t("div",lt,[s[37]||(s[37]=f('<div class="row"><div class="col-sm-12 col-md-6"><button class="btn btn-sm btn-danger" style="margin-right:3px;" tabindex="0" aria-controls="example2" type="button"><i class="fa-solid fa-file-pdf" style="font-size:14px !important;"></i> <span>PDF</span></button><button class="btn btn-sm btn-success" style="margin-right:3px;" tabindex="0" aria-controls="example2" type="button"><i class="fa-regular fa-file-excel" style="font-size:14px !important;"></i><span>Excel</span></button></div><div class="col-md-4"></div><div class="col-sm-2 col-md-2"><div id="example2_filter" class="dataTables_filter"><input type="search" class="form-control form-control-sm" placeholder="" aria-controls="example2"></div></div></div>',1)),t("div",it,[t("div",nt,[t("table",ot,[s[36]||(s[36]=t("thead",null,[t("tr",{role:"row"},[t("th",{class:"sorting_asc",tabindex:"0","aria-controls":"example2",rowspan:"1",colspan:"1","aria-sort":"ascending","aria-label":"SL: activate to sort column descending",style:{width:"194.4px"}}," SL."),t("th",{class:"sorting",tabindex:"0","aria-controls":"example2",rowspan:"1",colspan:"1","aria-label":"Staff Info: activate to sort column ascending",style:{width:"316.087px"}},"Staff Info"),t("th",{class:"sorting",tabindex:"0","aria-controls":"example2",rowspan:"1",colspan:"1","aria-label":"Agency Info: activate to sort column ascending",style:{width:"140.688px"}},"Agency Info"),t("th",{class:"sorting",tabindex:"0","aria-controls":"example2",rowspan:"1",colspan:"1","aria-label":"Area: activate to sort column ascending",style:{width:"66.3875px"}},"Area"),t("th",{class:"sorting",tabindex:"0","aria-controls":"example2",rowspan:"1",colspan:"1","aria-label":"Role: activate to sort column ascending",style:{width:"66.3875px"}},"Role"),t("th",{class:"sorting",tabindex:"0","aria-controls":"example2",rowspan:"1",colspan:"1","aria-label":"User Login Info: activate to sort column ascending",style:{width:"66.3875px"}},"User Login Info"),t("th",{class:"sorting",tabindex:"0","aria-controls":"example2",rowspan:"1",colspan:"1","aria-label":"Created By: activate to sort column ascending",style:{width:"131.8px"}},"Created By"),t("th",{class:"sorting",tabindex:"0","aria-controls":"example2",rowspan:"1",colspan:"1","aria-label":"Updated By: activate to sort column ascending",style:{width:"107.037px"}},"Updated By"),t("th",{class:"sorting",tabindex:"0","aria-controls":"example2",rowspan:"1",colspan:"1","aria-label":"Status: activate to sort column ascending",style:{width:"107.037px"}},"Status"),t("th",{class:"sorting",tabindex:"0","aria-controls":"example2",rowspan:"1",colspan:"1","aria-label":"Action: activate to sort column ascending",style:{width:"107.037px"}},"Action")])],-1)),t("tbody",null,[t("tr",dt,[s[13]||(s[13]=t("td",{class:"text-left"},"01",-1)),s[14]||(s[14]=t("td",{class:"text-left"},[i("Abu Syed "),t("br"),t("small",{class:"text-blue"}," Managing Director ")],-1)),s[15]||(s[15]=t("td",{class:"text-left"},[i(" ABC Travels Ltd "),t("br"),t("small",{class:"text-blue"},"12345"),i(" | IATA ")],-1)),s[16]||(s[16]=t("td",null,[i(" Motijheel "),t("br"),t("small",{class:"text-blue"},"Dhaka-North")],-1)),s[17]||(s[17]=t("td",null,"Agency Admin",-1)),s[18]||(s[18]=t("td",{class:"text-left"},[i(" abu.syed@galxybd.com "),t("br"),t("small",{class:"text-blue"},"017xxxxxxx")],-1)),s[19]||(s[19]=t("td",{class:"text-left"},[i(" Md. Abu Syed "),t("br"),t("small",{class:"text-blue"},"05-Sept-2024")],-1)),s[20]||(s[20]=t("td",{class:"text-left"},[i(" Md. Abu Syed "),t("br"),t("small",{class:"text-blue"},"05-Sept-2024")],-1)),s[21]||(s[21]=t("td",{class:"text-left"},[t("div",{class:"badge rounded-pill text-success bg-light-success p-2 text-uppercase px-3"},[t("i",{class:"bx bxs-circle me-1"}),i("Active ")]),t("br"),t("small",null," 21-Aug-2024 "),t("br"),t("small",{class:"text-blue"}," Md. Abu Zafar Chowdhary ")],-1)),t("td",rt,[r((o(),d("button",ct,s[8]||(s[8]=[t("i",{class:"fa-solid fa-pencil",style:{margin:"2px 0px 10px -4px","font-size":"14px"}},null,-1)]))),[[l,"Profile Edit"]]),r((o(),d("button",pt,s[9]||(s[9]=[t("i",{class:"fa fa-trash",style:{margin:"2px 0px 10px -4px","font-size":"14px"}},null,-1)]))),[[l,"Profile Delete"]]),r((o(),d("button",ut,s[10]||(s[10]=[t("i",{class:"fa fa-refresh",style:{margin:"2px 0px 10px -5px","font-size":"14px"}},null,-1)]))),[[l,"Hold"]]),r((o(),d("button",bt,s[11]||(s[11]=[t("i",{class:"fa fa-lock",style:{margin:"2px 0px 10px -5px","font-size":"14px"}},null,-1)]))),[[l,"Lock"]]),r((o(),d("button",xt,s[12]||(s[12]=[t("i",{class:"fa-solid fa-clock-rotate-left",style:{margin:"2px 0px 10px -5px","font-size":"14px"}},null,-1)]))),[[l,"Lock"]])])]),t("tr",mt,[s[27]||(s[27]=t("td",{class:"text-left"},"02",-1)),s[28]||(s[28]=t("td",{class:"text-left"},[i("Imtiaz Ahmed "),t("br"),t("small",{class:"text-blue"}," Supervisor ")],-1)),s[29]||(s[29]=t("td",{class:"text-left"},[i(" ABC Travels Ltd "),t("br"),t("small",{class:"text-blue"},"12345"),i(" | IATA ")],-1)),s[30]||(s[30]=t("td",null,[i(" Motijheel "),t("br"),t("small",{class:"text-blue"},"Dhaka-North")],-1)),s[31]||(s[31]=t("td",null,"Supervisor",-1)),s[32]||(s[32]=t("td",{class:"text-left"},[i(" test@galxybd.com "),t("br"),t("small",{class:"text-blue"},"017xxxxxxx")],-1)),s[33]||(s[33]=t("td",{class:"text-left"},[i(" Md. Abu Syed "),t("br"),t("small",{class:"text-blue"},"05-Sept-2024")],-1)),s[34]||(s[34]=t("td",{class:"text-left"},[i(" Md. Abu Syed "),t("br"),t("small",{class:"text-blue"},"05-Sept-2024")],-1)),s[35]||(s[35]=t("td",{class:"text-left"},[t("div",{class:"badge rounded-pill text-success bg-light-success p-2 text-uppercase px-3"},[t("i",{class:"bx bxs-circle me-1"}),i("Active ")]),t("br"),t("small",null," 21-Aug-2024 "),t("br"),t("small",{class:"text-blue"}," Md. Abu Zafar Chowdhary ")],-1)),t("td",ft,[r((o(),d("button",gt,s[22]||(s[22]=[t("i",{class:"fa-solid fa-pencil",style:{margin:"2px 0px 10px -4px","font-size":"14px"}},null,-1)]))),[[l,"Profile Edit"]]),r((o(),d("button",vt,s[23]||(s[23]=[t("i",{class:"fa fa-trash",style:{margin:"2px 0px 10px -4px","font-size":"14px"}},null,-1)]))),[[l,"Profile Delete"]]),r((o(),d("button",yt,s[24]||(s[24]=[t("i",{class:"fa fa-refresh",style:{margin:"2px 0px 10px -5px","font-size":"14px"}},null,-1)]))),[[l,"Hold"]]),r((o(),d("button",ht,s[25]||(s[25]=[t("i",{class:"fa fa-lock",style:{margin:"2px 0px 10px -5px","font-size":"14px"}},null,-1)]))),[[l,"Lock"]]),r((o(),d("button",wt,s[26]||(s[26]=[t("i",{class:"fa-solid fa-clock-rotate-left",style:{margin:"2px 0px 10px -5px","font-size":"14px"}},null,-1)]))),[[l,"Lock"]])])])])])])])])])]),t("div",_t,[t("div",St,[t("div",zt,[s[39]||(s[39]=f('<div class="modal-header"><h5 class="m-0 p-0 modal-title fs-6" style="border-left:5px solid rgb(114, 57, 234);">  Change Status</h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body"><label for="input4" class="form-label">Status</label><select id="status" name="status" class="form-control form-control-sm status"><option value="">== Select ==</option><option value="1">Active</option><option value="2">On Hold</option><option value="3">Locked</option><option value="4">Deactivated</option></select><input type="hidden" id="useridStatus" name="useridStatus"></div>',2)),t("div",kt,[s[38]||(s[38]=t("button",{type:"button",class:"btn btn-secondary btn-sm","data-bs-dismiss":"modal"},"Close",-1)),t("button",{type:"button",onClick:s[0]||(s[0]=p=>k()),class:"btn btn-sm btn-success"},"Update")])])])])])])],64)}}};export{Mt as default};
