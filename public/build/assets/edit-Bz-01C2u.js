import{a as E,e as k,f as A,F as c,h as N,i as S,c as p,o as v,b as e,p as b,q as _,d as f,s as L,w as h,l as D,t as V,n as G,j as B,v as j,G as T}from"./app-CkIs0rQZ.js";import"https://code.jquery.com/jquery-3.7.1.min.js";import"https://cdnjs.cloudflare.com/ajax/libs/izitoast/1.4.0/js/iziToast.min.js";import"https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js";const z={class:"page-breadcrumb d-none d-sm-flex align-items-center mb-3"},F={class:"ps-3"},I={"aria-label":"breadcrumb"},M={class:"breadcrumb mb-0 p-0"},U={class:"breadcrumb-item"},q={class:"breadcrumb-item"},H={class:"card"},Z={key:0,class:"mt-2 center-body position-absolute top-50 start-50"},J={id:"addZoneform"},K={class:"card-body"},O={class:"row"},P={class:"col-md-6"},Q={class:"card-footer"},tt={__name:"edit",props:["id"],setup(g){const n=E(),m=g,d=k(!0),o=A({area_name:"",area_id:"",division_id:"",district_id:"",status_val:"",useEmail:n.email});async function w(s){o.area_id=s.id;try{const t=await c.post("/zone/update",o);Notification.showToast("s",t.data.message)}catch(t){ErrorCatch.CatchError(t)}}y(m);async function y(s){try{n.GlobalLoading=!0,d.value=!1,await x();const t=await c.post("editArea",{id:s}),a=t.data[0].name,i=t.data[0].division_id,l=t.data[0].district_id,r=t.data[0].status;$("#division_id").val(i),$("#division_id").trigger("change"),$("#status").val(r),$("#status").trigger("change"),o.area_name=a,await u(l),n.GlobalLoading=!1,d.value=!0}catch(t){n.GlobalLoading=!1,d.value=!0,console.log(t)}}N(()=>{$(".division_name").on("change",function(){o.division_id=$(this).val(),$(".district_name").empty(),u($(this).val()),$("#district_id").prepend('<option selected=""></option>')}),$(".district_name").on("change",function(){o.district_id=$(this).val()}),$("#status").on("change",function(){o.status_val=$(this).val()})});async function x(){try{const t=await c.get("divisions");var s=[];$.each(t.data,function(i,l){var r={id:l.id,text:l.name};s.push(r)}),$("#division_id").select2({placeholder:"=Select=",theme:"bootstrap-5",width:"100%",allowClear:!0,height:"50",data:s})}catch(t){ErrorCatch.CatchError(t)}}async function u(s){try{const a=await c.post("districts",{id:s});var t=[];$.each(a.data,function(l,r){var C={id:r.id,text:r.name};t.push(C)}),$("#district_id").select2({placeholder:"=Select=",theme:"bootstrap-5",width:"100%",allowClear:!0,height:"50",data:t})}catch(a){ErrorCatch.CatchError(a)}}return(s,t)=>{const a=S("router-link");return v(),p(T,null,[e("div",z,[t[5]||(t[5]=e("div",{class:"breadcrumb-title pe-3"},"Setting",-1)),e("div",F,[e("nav",I,[e("ol",M,[e("li",U,[b(a,{to:{name:"Home"}},{default:_(()=>t[2]||(t[2]=[f("Dashboard")])),_:1})]),e("li",q,[b(a,{to:{name:"zoneList"}},{default:_(()=>t[3]||(t[3]=[f("Area List")])),_:1})]),t[4]||(t[4]=e("li",{class:"breadcrumb-item active","aria-current":"page"},"Edit Area",-1))])])])]),e("div",H,[t[10]||(t[10]=e("div",{class:"card-header"},[e("h5",{class:"m-0 p-0",style:{"border-left":"5px solid #7239ea"}}," Â  Edit Area")],-1)),D(n).GlobalLoading?(v(),p("div",Z,t[6]||(t[6]=[e("div",{class:"loader-circle-57"},[e("img",{class:"position-absolute",src:V,height:"22",width:"22",alt:""})],-1)]))):L("",!0),h(e("form",J,[e("div",K,[e("div",O,[e("div",P,[t[7]||(t[7]=e("label",{for:"input1",class:"form-label"},"Area Name",-1)),h(e("input",{type:"text",class:"form-control form-control-sm",id:"area_name",name:"area_name",placeholder:"Enter Name","onUpdate:modelValue":t[0]||(t[0]=i=>o.area_name=i)},null,512),[[j,o.area_name]])]),t[8]||(t[8]=B('<div class="col-md-6"><label for="input1" class="form-label">Division</label><select id="division_id" name="division_name" class="form-control form-control-sm single-select-fields division_name"></select></div><div class="col-md-6 mt-2"><label for="input1" class="form-label">District</label><select id="district_id" name="district_name" class="form-control form-control-sm single-select-field district_name"></select></div><div class="col-md-6 mt-2"><label for="input1" class="form-label">Status</label><select id="status" name="status" class="form-control form-control-sm"><option selected value="">Choose...</option><option value="1">Active</option><option value="2">Inactive</option></select></div>',3))])]),e("div",Q,[e("button",{type:"button",onClick:t[1]||(t[1]=i=>w(m)),class:"m-2 btn btn-sm btn-info px-4 ms-2 float-end text-white"},"Update"),t[9]||(t[9]=e("button",{class:"m-2 btn btn-sm btn-danger px-4 ms-2 float-end"},"Back",-1))])],512),[[G,d.value]])])],64)}}};export{tt as default};
