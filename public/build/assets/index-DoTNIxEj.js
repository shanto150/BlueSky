import{u as y,a as w,e as _,f as T,h as k,F as p,i as S,c as m,o as f,b as a,j as C,p as v,q as L,d as z,s as N,l as b,t as O,G as V}from"./app-Brv4UD0O.js";import{V as g,D as h}from"./dataTables.bootstrap5-Dtf34j1I.js";import{j}from"./responsive.bootstrap5-DmVSVm5e.js";import"https://code.jquery.com/jquery-3.7.1.min.js";import"https://cdnjs.cloudflare.com/ajax/libs/izitoast/1.4.0/js/iziToast.min.js";import"https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js";import"./jquery-ZeOy0Cmb.js";import"./dataTables.buttons-BesUxm5-.js";const D={class:"page-breadcrumb d-none d-sm-flex align-items-center mb-3"},I={class:"ps-3"},B={"aria-label":"breadcrumb"},U={class:"breadcrumb mb-0 p-0"},G={class:"breadcrumb-item"},M={class:"table-responsive"},A={class:"row position-relative"},F={class:"col-12"},q={id:"userList",class:"card rounded rounded-2 shadow-none p-3"},R={key:0,class:"center-body position-absolute top-50 start-50"},Z={__name:"index",setup(Y){const c=y(),o=w();g.use(h),h.Buttons.jszip(j);const d=_([]),r=T({status:"",useridStatus:""});k(()=>{$("#status").on("change",function(){r.status=$(this).val()})}),u();const x={responsive:!0,destroy:!0,pageLength:30,lengthMenu:[3,10,20,30],ordering:!1,columnDefs:[{defaultContent:"0",targets:"_all"}],dom:"<'row'<'col-sm-4'B><'d-md-flex justify-content-between align-items-center dt-layout-end col-md-auto ms-auto'f>><'row'<'col-sm-12'tr>><'row justify-content-between Reduct_table_gap'<'d-md-flex justify-content-between align-items-center dt-layout-start col-md-auto me-auto'i><'d-md-flex justify-content-between align-items-center dt-layout-end col-md-auto ms-auto'p>>",buttons:[{extend:"excel",text:'<i class="fa fa-file-excel"></i> Excel',title:"Your Title",messageTop:function(){return"Fun"},className:"btn btn-danger btn-sm text-white",exportOptions:{columns:[1,2,3,5]}},{extend:"csv",text:'<i class="fa fa-file-csv"></i> CSV',title:"Your Title",messageTop:function(){return"Fun"},className:"btn btn-info btn-sm text-white",exportOptions:{columns:[1,2,3,5]}}],language:{search:"",searchPlaceholder:"Search by anything.."},columns:[{data:"DT_RowIndex",title:"SL"},{title:"Traveler Info",render:function(n,e,s){var t="";return t+='<div class="col-md-8">',t+=s.name,t+="<br>",t+="19-Oct-1992",t+="<br>",t+='<span class="text-primary">',t+="Male|Adult</span>",t+="</div>",t},width:"60%"},{title:"Passport Info",render:function(n,e,s){var t="";return t+="023948bdf93450",t+="<br>",t+="12-Dec-2026",t+="<br>",t+='<span class="text-primary">Bangladeshi</span>',t},width:"30%"},{title:"Contact Info",render:function(n,e,s){var t="";return t+=s.email,t+="<br>",t+='<span class="text-primary">',t+=s.phone+"</span>",t}},{title:"Total Usage & Ticketed",render:function(n,e,s){var t="";return t+="à§³100000",t+="<br>",t+='<span class="text-primary">',t+="<i class='fa fa-ticket'></i> 10</span>",t}},{title:"Action",render:function(n,e,s){var t="",i=s.idd,l=s.status;return t+='<button  style="size: 30px; width: 30px; height: 30px" class="btn btn-outline-only-edit rounded-circle edit-item" placement="top" id="edit_tool" data-item-id='+i+'> <i class="fa-solid fa-eye" style="margin: 0px 0px 10px -6px; font-size: 14px;" ></i> </button>',t+='<button type="button" style="size: 30px; width: 30px; height: 30px; margin-left: 5px;" class="btn btn-outline-purple rounded-circle status-change" data-item-id='+i+" data-status="+l+'> <i class="fa fa-file" style="margin: 2px 0px 10px -3px; font-size: 14px;"></i> </button>',t+='<button type="button" v-tippy="Lock" style="size: 30px; width: 30px; height: 30px; margin-left: 5px;" class="btn btn-outline-timer rounded-circle history-data" data-item-id='+i+'> <i class="fa-solid fa-clock-rotate-left" style="margin: 2px 0px 10px -5px; font-size: 14px;"></i> </button>',t},width:"90%"}],drawCallback:function(n){$(".edit-item").on("click",function(e){$(this).attr("data-item-id"),c.push({name:"TravelerView"})}),$(".delete-item").on("click",function(e){var s=$(this).attr("data-item-id");iziToast.question({timeout:1e5,pauseOnHover:!1,close:!1,overlay:!0,displayMode:"once",id:"question",zindex:999,message:"Want to delete this user?",position:"center",buttons:[["<button><b>No</b></button>",function(t,i){t.hide({transitionOut:"fadeOut"},i,"no")},!0],["<button><b>Yes</b></button>",function(t,i){t.hide({transitionOut:"fadeOut"},i,"yes")},!0]],onClosed:async function(t,i,l){l=="yes"&&(p.post("deleteUser",{id:s}),u(),Notification.showToast("s","Successfully User Deleted."))}})}),$(".status-change").on("click",function(e){var s=$(this).attr("data-item-id"),t=$(this).attr("data-status");$("#status_change_modal").modal("show"),$("#status").val(t),$("#status").trigger("change"),r.useridStatus=s,$("#useridStatus").val(s)}),$(".history-data").on("click",function(e){var s=$(this).attr("data-item-id");console.log(s),c.push({name:"UserLog",params:{id:s}})})}};async function u(){try{o.GlobalLoading=!0;const n=await p.get("getInternalUsers");d.value=n.data.data,o.GlobalLoading=!1}catch(n){o.GlobalLoading=!1,console.log(n)}}return(n,e)=>{const s=S("router-link");return f(),m(V,null,[a("div",D,[e[2]||(e[2]=a("div",{class:"breadcrumb-title pe-3"}," Traveller Management",-1)),a("div",I,[a("nav",B,[a("ol",U,[a("li",G,[v(s,{to:{name:"Home"}},{default:L(()=>e[0]||(e[0]=[z("Dashboard")])),_:1})]),e[1]||(e[1]=a("li",{class:"breadcrumb-item active","aria-current":"page"},"Traveller List",-1))])])])]),e[4]||(e[4]=C('<div class="row"><div class="col-12 col-sm-6 col-md-3"><div class="info-agency"><span class="info-agency-icon bg-info elevation-1"><i class="fas fa-users"></i></span><div class="info-agency-content"><span class="info-agency-text">Total Traveller</span><span class="info-agency-number"> 1200 </span></div></div></div><div class="col-12 col-sm-6 col-md-3"><div class="active-agency mb-3"><span class="active-agency-icon bg-success elevation-1 text-white"><i class="fa-solid fa-circle-check"></i></span><div class="active-agency-content"><span class="active-agency-text">Total Adult</span><span class="active-agency-number">760</span></div></div></div><div class="col-12 col-sm-6 col-md-3"><div class="info-box mb-3"><span class="info-box-icon bg-danger elevation-1"><i class="fa fa-pause"></i></span><div class="info-box-content"><span class="info-box-text">Total Children</span><span class="info-box-number">5</span></div></div></div><div class="col-12 col-sm-6 col-md-3"><div class="pending-agnt mb-3"><span class="pending-agnt-icon bg-warning elevation-1"><i class="fa fa-clock"></i></span><div class="pending-agnt-content"><span class="pending-agnt-text">Total Infant</span><span class="pending-agnt-number">20</span></div></div></div></div><div class="row"><div class="col-12"><div class="card"><div class="row shadow-none rounded rounded-2 p-3"><div class="col-md-2"><select class="form-select form-select-sm" id="single-select-field" data-placeholder="Choose one thing"><option>Select User Type</option></select></div><div class="col-md-2"><select class="form-select form-select-sm" id="single-select-field" data-placeholder="Choose one thing"><option>Select Office Location</option></select></div><div class="col-md-2"><select class="form-select form-select-sm" id="single-select-field" data-placeholder="Choose one thing"><option>Select Status</option></select></div><div class="col-md-1 mt-2"><i class="fa fa-times text-danger"></i> Clear </div></div></div></div></div>',2)),a("div",M,[a("div",A,[a("div",F,[a("div",q,[b(o).GlobalLoading?(f(),m("div",R,e[3]||(e[3]=[a("div",{class:"loader-circle-57"},[a("img",{class:"position-absolute",src:O,height:"22",width:"22",alt:""})],-1)]))):N("",!0),v(b(g),{options:x,data:d.value,class:"table table-sm table-striped table-bordered"},null,8,["data"])])])])])],64)}}};export{Z as default};
