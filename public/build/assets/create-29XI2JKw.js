import{a as y,f as w,h as x,E as r,i as k,o as l,c,b as t,p as m,q as p,d as u,w as C,v as N,F as _,K as S,x as E}from"./app-DnzLkw-E.js";import"https://cdnjs.cloudflare.com/ajax/libs/izitoast/1.4.0/js/iziToast.min.js";import"https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js";const D={class:"page-breadcrumb d-none d-sm-flex align-items-center mb-3"},A={class:"ps-3"},B={"aria-label":"breadcrumb"},V={class:"breadcrumb mb-0 p-0"},L={class:"breadcrumb-item"},T={class:"breadcrumb-item"},j={class:"card"},z={id:"addZoneform"},F={class:"card-body"},I={class:"row"},M={class:"col-md-6"},Z={class:"col-md-6"},q={id:"division_id",name:"division_name",class:"form-control form-control-sm division_name"},H=["value"],K={class:"card-footer"},Q={__name:"create",setup(U){const v=y(),a=w({area_name:"",division_id:"",district_id:"",status_val:"",useEmail:v.email}),n=[];x(()=>{f(),$(".division_name").on("change",function(){a.division_id=$(this).val(),$(".district_name").empty(),h($(this).val()),$("#district_id").prepend('<option selected=""></option>')}),$(".district_name").on("change",function(){a.district_id=$(this).val();let s=$(".district_name").val();console.log(s)})});async function b(){try{const s=await r.post("/zone/save",a);document.getElementById("addZoneform").reset(),Notification.showToast("s",s.data.message)}catch(s){ErrorCatch.CatchError(s)}}async function f(){try{const s=await r.get("divisions");$.each(s.data,function(e,o){var i={id:o.id,text:o.name};n.push(i)}),console.log(n),$("#division_id").select2({placeholder:"=Select=",theme:"bootstrap-5",width:"100%",allowClear:!0,height:"50"}),$("#division_id").prepend('<option selected=""></option>')}catch{}}async function h(s){try{const o=await r.post("districts",{id:s});var e=[];$.each(o.data,function(G,d){var g={id:d.id,text:d.name};e.push(g)}),$("#district_id").select2({placeholder:"=Select=",theme:"bootstrap-5",width:"100%",allowClear:!0,height:"50",data:e})}catch{}}return(s,e)=>{const o=k("router-link");return l(),c(_,null,[t("div",D,[e[5]||(e[5]=t("div",{class:"breadcrumb-title pe-3"},"Setting",-1)),t("div",A,[t("nav",B,[t("ol",V,[t("li",L,[m(o,{to:{name:"Home"}},{default:p(()=>e[2]||(e[2]=[u("Dashboard")])),_:1})]),t("li",T,[m(o,{to:{name:"zoneList"}},{default:p(()=>e[3]||(e[3]=[u("Area List")])),_:1})]),e[4]||(e[4]=t("li",{class:"breadcrumb-item active","aria-current":"page"},"Create New Area",-1))])])])]),t("div",j,[e[10]||(e[10]=t("div",{class:"card-header"},[t("h5",{class:"m-0 p-0",style:{"border-left":"5px solid #7239ea"}}," Â  Create New Area")],-1)),t("form",z,[t("div",F,[t("div",I,[t("div",M,[e[6]||(e[6]=t("label",{for:"input1",class:"form-label"},"Area Name",-1)),C(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=i=>a.area_name=i),class:"form-control form-control-sm",id:"area_name",name:"area_name",placeholder:"Enter Name"},null,512),[[N,a.area_name]])]),t("div",Z,[e[7]||(e[7]=t("label",{for:"input1",class:"form-label"},"Division",-1)),t("select",q,[(l(),c(_,null,S(n,i=>t("option",{value:i.key},E(i.value),9,H)),64))])]),e[8]||(e[8]=t("div",{class:"col-md-6 mt-2"},[t("label",{for:"input1",class:"form-label"},"District"),t("select",{id:"district_id",name:"district_name",class:"form-control form-control-sm district_name"},[t("option",{value:""},"=Select=")])],-1))])]),t("div",K,[t("button",{type:"button",onClick:e[1]||(e[1]=i=>b()),class:"m-2 btn btn-sm btn-info px-4 ms-2 float-end text-white"},"Save"),e[9]||(e[9]=t("button",{class:"m-2 btn btn-sm btn-danger px-4 ms-2 float-end"},"Back",-1))])])])],64)}}};export{Q as default};
